!function(t){"use strict";function o(t,o,e){if(e&&""!=e)var e=e;else var e="";return'<div class="todo__item" data-id="'+t+'" data-status="'+e+'"><div class="todo__status"><div class="todo__done  js-toggle-status  js-status-done"><svg><use xlink:href="#ei-check-icon"></use></svg></div></div><div class="todo__name">'+o+'</div><div class="todo__option"><div class="todo__remove  js-remove-todo"><svg><use xlink:href="#ei-trash-icon"></use></svg></div></div></div>'}!function(){var e=localStorage.getItem("todo");if(e&&""!=e){e=JSON.parse(e);var s="";for(var a in e)s+=o(a,e[a].note,e[a].status);t(".todo").prepend(s)}}(),function(){t(".todo").on("click",".js-toggle-status",function(){var o=t(this),e=o.parents(".todo__item").attr("data-id"),s=o.parents(".todo__item").attr("data-status"),a=JSON.parse(localStorage.getItem("todo"));if(o.hasClass("js-status-done")&&""==s)var d="done";else var d="";a[e].status=d,localStorage.setItem("todo",JSON.stringify(a)),o.parents(".todo__item").attr("data-status",d)})}(),function(){t(".todo").on("click",".js-remove-todo",function(){var o=t(this),e=o.parents(".todo__item").attr("data-id"),s=JSON.parse(localStorage.getItem("todo"));delete s[e],localStorage.setItem("todo",JSON.stringify(s)),o.parents(".todo__item").remove(),0==t(".todo__item:not(.todo__item--add)").length&&t(".js-add-todo").focus()})}(),function(){t(".js-add-todo").focus().on("change",function(){var e=t(this),s=e.val(),a=new Date,d=a.getTime(),i=localStorage.getItem("todo");i=i&&""!=i?JSON.parse(i):{},i[d]={note:s,status:""},localStorage.setItem("todo",JSON.stringify(i)),e.val(""),t(".todo__item--add").before(o(d,s)),t("body").scrollTop(1e6)})}()}(jQuery);